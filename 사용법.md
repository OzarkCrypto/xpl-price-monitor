# 🎯 폴리마켓 신규 마켓 모니터링 봇 사용법

## 🚀 즉시 시작하기

### 1. 봇 시작
```bash
./start_polymarket_monitor.sh
```

### 2. 테스트 실행
```bash
python3 test_telegram_notification.py  # 텔레그램 알림 테스트
python3 quick_test_monitor.py          # 마켓 모니터링 테스트
```

### 3. 백그라운드 실행
```bash
nohup ./start_polymarket_monitor.sh > polymarket.out 2>&1 &
```

## 📱 설정된 텔레그램 정보

- **봇 토큰**: `7086607684:AAFEAN-E6XJJW77OfXs4tThEQyxOdi_t98w`
- **채팅 ID**: `1339285013`

## ⚙️ 모니터링 설정

- **확인 간격**: 60초마다
- **대상 마켓**: 종료되지 않은 모든 마켓 (closed=false)
- **알림 조건**: 새로운 마켓 발견 시

## 📊 알림 예시

봇이 새로운 마켓을 발견하면 다음과 같은 형식으로 텔레그램 알림을 보냅니다:

```
🚨 새로운 폴리마켓 마켓 발견!

📊 마켓: Will Kamala Harris win the 2024 US Presidential Election?
🔗 링크: 폴리마켓에서 보기
📅 만료일: 2024-11-05 00:00 UTC
💰 총 거래량: $0
👥 참여자 수: 2

⏰ 발견 시간: 2024-08-21 15:16:38 KST
```

## 📁 생성된 파일들

### 핵심 파일
- `polymarket_monitor.py` - 메인 모니터링 봇
- `start_polymarket_monitor.sh` - 실행 스크립트 (환경변수 포함)
- `notification_system.py` - 텔레그램 알림 시스템

### 설정 파일
- `polymarket_config.json` - 봇 설정
- `polymarket_known_markets.json` - 알려진 마켓 캐시

### 테스트 파일
- `test_telegram_notification.py` - 텔레그램 알림 테스트
- `quick_test_monitor.py` - 빠른 모니터링 테스트
- `test_polymarket_monitor.py` - 전체 시스템 테스트

### 디버그 파일
- `debug_polymarket_api.py` - API 구조 분석
- `check_market_structure.py` - 마켓 데이터 구조 확인
- `check_active_markets.py` - 활성 마켓 현황 분석

## 🔧 모니터링 상태 확인

### 로그 확인
```bash
tail -f polymarket_monitor.log
```

### 실시간 상태
```bash
ps aux | grep polymarket
```

### 캐시 상태
```bash
cat polymarket_known_markets.json | jq '.'
```

## 🛑 봇 중지

### 일반 실행 중지
- 터미널에서 `Ctrl + C`

### 백그라운드 실행 중지
```bash
pkill -f polymarket_monitor.py
```

## 🔄 재시작

새로운 마켓부터 다시 모니터링하려면:
```bash
rm -f polymarket_known_markets.json
./start_polymarket_monitor.sh
```

## 📈 성능 최적화

### 확인 간격 조정
환경 변수 `POLYMARKET_CHECK_INTERVAL`을 수정하거나 `start_polymarket_monitor.sh`에서 변경

### 마켓 수 제한
환경 변수 `POLYMARKET_MAX_MARKETS`로 한 번에 확인할 마켓 수 조정

---

## ⚠️ 주의사항

1. **API 제한**: 폴리마켓 API 사용 정책을 준수하세요
2. **네트워크**: 안정적인 인터넷 연결이 필요합니다
3. **저장공간**: 로그 파일이 계속 증가하므로 정기적으로 정리하세요
4. **보안**: 텔레그램 봇 토큰을 안전하게 관리하세요

---

## 🎉 완료!

이제 폴리마켓에서 새로운 마켓이 생성될 때마다 실시간으로 텔레그램 알림을 받을 수 있습니다!